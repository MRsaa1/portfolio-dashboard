// Language Translations
const translations = {
    en: {
        // Navigation
        navHome: "Home",
        navAbout: "About",
        navResearch: "Research",
        navProjects: "Projects",
        navCertifications: "Certifications",
        navCV: "CV",
        navContact: "Contact",
        
        // Hero Section
        heroTitle: "Oleksii Slieptsov",
        heroSubtitle: "Treasury & Liquidity Expert",
        heroTagline: "AI Automation | SSRN Author | Ex-PrivatBank",
        btnViewResume: "View Resume",
        btnResearch: "Research",
        btnDownloadCV: "Download CV",
        
        // Impact Section
        impactSSRNViews: "SSRN Views",
        impactDownloads: "Downloads",
        impactResearchFields: "Research Fields",
        impactGitHubProjects: "GitHub Projects",
        impactYearsExperience: "Years Experience",
        impactTeamManaged: "Team Managed",
        impactPublications: "Publications",
        impactGitHubStars: "GitHub Stars",
        impactDailyTurnover: "Daily Turnover",
        
        // Sections
        sectionAbout: "About",
        sectionCertifications: "Professional Certifications",
        sectionTechStack: "Technology Stack",
        sectionResearch: "SSRN Publications",
        sectionProjects: "GitHub Projects",
        sectionResume: "Resume",
        sectionTimeline: "Career Timeline",
        sectionAwards: "Awards & Honors",
        sectionContact: "Contact",
        
        // Tech Stack Categories
        techLanguages: "Languages",
        techFrameworks: "Frameworks & Libraries",
        techFinancial: "Financial Technologies",
        techTools: "Tools & Platforms",
        
        // Certifications
        certActive: "Active",
        certInProgress: "In Progress",
        
        // Timeline
        timeline2025: "CFA, AFP, DACFP CBDA Certifications",
        timeline2025Desc: "Earned multiple professional certifications in finance and digital assets",
        timeline2024: "Transition to Fintech Development",
        timeline2024Desc: "Started building institutional-grade fintech solutions and AI trading platforms",
        timeline2013_2024: "Senior Banking Executive at PrivatBank",
        timeline2013_2024Desc: "Led team of 64 professionals, managed $50M daily operations, built automation systems",
        timeline2013_2016: "Bachelor's in Finance and Credit",
        timeline2013_2016Desc: "Ukrainian Academy of Banking of the National Bank of Ukraine",
        timeline2005: "Started at PrivatBank",
        timeline2005Desc: "Began career in treasury and liquidity management",
        timeline2001_2006: "Master's Degree",
        timeline2001_2006Desc: "Manager of Foreign Economic, Berdyansk Institute of Entrepreneurship (With Honors)",
        
        // Contact Form
        formTitle: "Send a Message",
        formName: "Name",
        formEmail: "Email",
        formSubject: "Subject",
        formMessage: "Message",
        formSend: "Send Message",
        formSuccess: "Thank you! Your message has been sent. I will get back to you soon.",
        formError: "Please fill in all required fields.",
        formEmailError: "Please enter a valid email address.",
        
        // Common
        viewOnSSRN: "View on SSRN â†’",
        viewOnGitHub: "View on GitHub â†’",
        downloadPDF: "Download PDF",
        downloadFullResume: "Download Full Resume (PDF)",
        
        // Resume Sections
        resumeExperience: "Professional Experience",
        resumeEducation: "Education",
        resumeCertifications: "Professional Certifications",
        resumeAwards: "Honors & Awards",
        resumeSkills: "Core Competencies",
        resumePublications: "Research & Publications",
        
        // Footer
        footerCopyright: "Â© 2025 SAA Alliance. All rights reserved."
    },
    ru: {
        // Navigation
        navHome: "Ð“Ð»Ð°Ð²Ð½Ð°Ñ",
        navAbout: "Ðž ÑÐµÐ±Ðµ",
        navResearch: "Ð˜ÑÑÐ»ÐµÐ´Ð¾Ð²Ð°Ð½Ð¸Ñ",
        navProjects: "ÐŸÑ€Ð¾ÐµÐºÑ‚Ñ‹",
        navCertifications: "Ð¡ÐµÑ€Ñ‚Ð¸Ñ„Ð¸ÐºÐ°Ñ‚Ñ‹",
        navCV: "Ð ÐµÐ·ÑŽÐ¼Ðµ",
        navContact: "ÐšÐ¾Ð½Ñ‚Ð°ÐºÑ‚Ñ‹",
        
        // Hero Section
        heroTitle: "ÐžÐ»ÐµÐºÑÑ–Ð¹ Ð¡Ð»Ñ–Ñ”Ð¿Ñ†Ð¾Ð²",
        heroSubtitle: "Ð­ÐºÑÐ¿ÐµÑ€Ñ‚ Ð¿Ð¾ ÐºÐ°Ð·Ð½Ð°Ñ‡ÐµÐ¹ÑÑ‚Ð²Ñƒ Ð¸ Ð»Ð¸ÐºÐ²Ð¸Ð´Ð½Ð¾ÑÑ‚Ð¸",
        heroTagline: "AI Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ð·Ð°Ñ†Ð¸Ñ | ÐÐ²Ñ‚Ð¾Ñ€ SSRN | Ð‘Ñ‹Ð²ÑˆÐ¸Ð¹ ÐŸÑ€Ð¸Ð²Ð°Ñ‚Ð‘Ð°Ð½Ðº",
        btnViewResume: "ÐŸÐ¾ÑÐ¼Ð¾Ñ‚Ñ€ÐµÑ‚ÑŒ Ñ€ÐµÐ·ÑŽÐ¼Ðµ",
        btnResearch: "Ð˜ÑÑÐ»ÐµÐ´Ð¾Ð²Ð°Ð½Ð¸Ñ",
        btnDownloadCV: "Ð¡ÐºÐ°Ñ‡Ð°Ñ‚ÑŒ Ñ€ÐµÐ·ÑŽÐ¼Ðµ",
        
        // Impact Section
        impactSSRNViews: "ÐŸÑ€Ð¾ÑÐ¼Ð¾Ñ‚Ñ€Ð¾Ð² SSRN",
        impactDownloads: "Ð¡ÐºÐ°Ñ‡Ð¸Ð²Ð°Ð½Ð¸Ð¹",
        impactResearchFields: "ÐžÐ±Ð»Ð°ÑÑ‚ÐµÐ¹ Ð¸ÑÑÐ»ÐµÐ´Ð¾Ð²Ð°Ð½Ð¸Ð¹",
        impactGitHubProjects: "ÐŸÑ€Ð¾ÐµÐºÑ‚Ð¾Ð² GitHub",
        impactYearsExperience: "Ð›ÐµÑ‚ Ð¾Ð¿Ñ‹Ñ‚Ð°",
        impactTeamManaged: "Ð§ÐµÐ»Ð¾Ð²ÐµÐº Ð² ÐºÐ¾Ð¼Ð°Ð½Ð´Ðµ",
        impactPublications: "ÐŸÑƒÐ±Ð»Ð¸ÐºÐ°Ñ†Ð¸Ð¹",
        impactGitHubStars: "Ð—Ð²ÐµÐ·Ð´ GitHub",
        impactDailyTurnover: "Ð•Ð¶ÐµÐ´Ð½ÐµÐ²Ð½Ñ‹Ð¹ Ð¾Ð±Ð¾Ñ€Ð¾Ñ‚",
        
        // Sections
        sectionAbout: "Ðž ÑÐµÐ±Ðµ",
        sectionCertifications: "ÐŸÑ€Ð¾Ñ„ÐµÑÑÐ¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ñ‹Ðµ ÑÐµÑ€Ñ‚Ð¸Ñ„Ð¸ÐºÐ°Ñ‚Ñ‹",
        sectionTechStack: "Ð¢ÐµÑ…Ð½Ð¾Ð»Ð¾Ð³Ð¸Ñ‡ÐµÑÐºÐ¸Ð¹ ÑÑ‚ÐµÐº",
        sectionResearch: "ÐŸÑƒÐ±Ð»Ð¸ÐºÐ°Ñ†Ð¸Ð¸ SSRN",
        sectionProjects: "ÐŸÑ€Ð¾ÐµÐºÑ‚Ñ‹ GitHub",
        sectionResume: "Ð ÐµÐ·ÑŽÐ¼Ðµ",
        sectionTimeline: "ÐšÐ°Ñ€ÑŒÐµÑ€Ð½Ð°Ñ Ñ…Ñ€Ð¾Ð½Ð¾Ð»Ð¾Ð³Ð¸Ñ",
        sectionAwards: "ÐÐ°Ð³Ñ€Ð°Ð´Ñ‹ Ð¸ Ð´Ð¾ÑÑ‚Ð¸Ð¶ÐµÐ½Ð¸Ñ",
        sectionContact: "ÐšÐ¾Ð½Ñ‚Ð°ÐºÑ‚Ñ‹",
        
        // Tech Stack Categories
        techLanguages: "Ð¯Ð·Ñ‹ÐºÐ¸ Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ",
        techFrameworks: "Ð¤Ñ€ÐµÐ¹Ð¼Ð²Ð¾Ñ€ÐºÐ¸ Ð¸ Ð±Ð¸Ð±Ð»Ð¸Ð¾Ñ‚ÐµÐºÐ¸",
        techFinancial: "Ð¤Ð¸Ð½Ð°Ð½ÑÐ¾Ð²Ñ‹Ðµ Ñ‚ÐµÑ…Ð½Ð¾Ð»Ð¾Ð³Ð¸Ð¸",
        techTools: "Ð˜Ð½ÑÑ‚Ñ€ÑƒÐ¼ÐµÐ½Ñ‚Ñ‹ Ð¸ Ð¿Ð»Ð°Ñ‚Ñ„Ð¾Ñ€Ð¼Ñ‹",
        
        // Certifications
        certActive: "ÐÐºÑ‚Ð¸Ð²ÐµÐ½",
        certInProgress: "Ð’ Ð¿Ñ€Ð¾Ñ†ÐµÑÑÐµ",
        
        // Timeline
        timeline2025: "Ð¡ÐµÑ€Ñ‚Ð¸Ñ„Ð¸ÐºÐ°Ñ‚Ñ‹ CFA, AFP, DACFP CBDA",
        timeline2025Desc: "ÐŸÐ¾Ð»ÑƒÑ‡ÐµÐ½Ñ‹ Ð¼Ð½Ð¾Ð¶ÐµÑÑ‚Ð²ÐµÐ½Ð½Ñ‹Ðµ Ð¿Ñ€Ð¾Ñ„ÐµÑÑÐ¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ñ‹Ðµ ÑÐµÑ€Ñ‚Ð¸Ñ„Ð¸ÐºÐ°Ñ‚Ñ‹ Ð² Ð¾Ð±Ð»Ð°ÑÑ‚Ð¸ Ñ„Ð¸Ð½Ð°Ð½ÑÐ¾Ð² Ð¸ Ñ†Ð¸Ñ„Ñ€Ð¾Ð²Ñ‹Ñ… Ð°ÐºÑ‚Ð¸Ð²Ð¾Ð²",
        timeline2024: "ÐŸÐµÑ€ÐµÑ…Ð¾Ð´ Ðº Ñ€Ð°Ð·Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐµ Ñ„Ð¸Ð½Ñ‚ÐµÑ…-Ñ€ÐµÑˆÐµÐ½Ð¸Ð¹",
        timeline2024Desc: "ÐÐ°Ñ‡Ð°Ð» ÑÐ¾Ð·Ð´Ð°Ð²Ð°Ñ‚ÑŒ Ð¸Ð½ÑÑ‚Ð¸Ñ‚ÑƒÑ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ñ‹Ðµ Ñ„Ð¸Ð½Ñ‚ÐµÑ…-Ð¿Ð»Ð°Ñ‚Ñ„Ð¾Ñ€Ð¼Ñ‹ Ð¸ AI Ñ‚Ð¾Ñ€Ð³Ð¾Ð²Ñ‹Ðµ ÑÐ¸ÑÑ‚ÐµÐ¼Ñ‹",
        timeline2013_2024: "Ð¡Ñ‚Ð°Ñ€ÑˆÐ¸Ð¹ Ð±Ð°Ð½ÐºÐ¾Ð²ÑÐºÐ¸Ð¹ Ñ€ÑƒÐºÐ¾Ð²Ð¾Ð´Ð¸Ñ‚ÐµÐ»ÑŒ Ð² ÐŸÑ€Ð¸Ð²Ð°Ñ‚Ð‘Ð°Ð½ÐºÐµ",
        timeline2013_2024Desc: "Ð ÑƒÐºÐ¾Ð²Ð¾Ð´Ð¸Ð» ÐºÐ¾Ð¼Ð°Ð½Ð´Ð¾Ð¹ Ð¸Ð· 64 ÑÐ¿ÐµÑ†Ð¸Ð°Ð»Ð¸ÑÑ‚Ð¾Ð², ÑƒÐ¿Ñ€Ð°Ð²Ð»ÑÐ» Ð¾Ð¿ÐµÑ€Ð°Ñ†Ð¸ÑÐ¼Ð¸ Ð½Ð° $50M ÐµÐ¶ÐµÐ´Ð½ÐµÐ²Ð½Ð¾, ÑÐ¾Ð·Ð´Ð°Ð²Ð°Ð» ÑÐ¸ÑÑ‚ÐµÐ¼Ñ‹ Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ð·Ð°Ñ†Ð¸Ð¸",
        timeline2013_2016: "Ð‘Ð°ÐºÐ°Ð»Ð°Ð²Ñ€ Ñ„Ð¸Ð½Ð°Ð½ÑÐ¾Ð² Ð¸ ÐºÑ€ÐµÐ´Ð¸Ñ‚Ð°",
        timeline2013_2016Desc: "Ð£ÐºÑ€Ð°Ð¸Ð½ÑÐºÐ°Ñ Ð°ÐºÐ°Ð´ÐµÐ¼Ð¸Ñ Ð±Ð°Ð½ÐºÐ¾Ð²ÑÐºÐ¾Ð³Ð¾ Ð´ÐµÐ»Ð° ÐÐ°Ñ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ð¾Ð³Ð¾ Ð±Ð°Ð½ÐºÐ° Ð£ÐºÑ€Ð°Ð¸Ð½Ñ‹",
        timeline2005: "ÐÐ°Ñ‡Ð°Ð»Ð¾ Ñ€Ð°Ð±Ð¾Ñ‚Ñ‹ Ð² ÐŸÑ€Ð¸Ð²Ð°Ñ‚Ð‘Ð°Ð½ÐºÐµ",
        timeline2005Desc: "ÐÐ°Ñ‡Ð°Ð» ÐºÐ°Ñ€ÑŒÐµÑ€Ñƒ Ð² ÑƒÐ¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ð¸ ÐºÐ°Ð·Ð½Ð°Ñ‡ÐµÐ¹ÑÑ‚Ð²Ð¾Ð¼ Ð¸ Ð»Ð¸ÐºÐ²Ð¸Ð´Ð½Ð¾ÑÑ‚ÑŒÑŽ",
        timeline2001_2006: "ÐœÐ°Ð³Ð¸ÑÑ‚Ñ€",
        timeline2001_2006Desc: "ÐœÐµÐ½ÐµÐ´Ð¶ÐµÑ€ Ð²Ð½ÐµÑˆÐ½ÐµÑÐºÐ¾Ð½Ð¾Ð¼Ð¸Ñ‡ÐµÑÐºÐ¾Ð¹ Ð´ÐµÑÑ‚ÐµÐ»ÑŒÐ½Ð¾ÑÑ‚Ð¸, Ð‘ÐµÑ€Ð´ÑÐ½ÑÐºÐ¸Ð¹ Ð¸Ð½ÑÑ‚Ð¸Ñ‚ÑƒÑ‚ Ð¿Ñ€ÐµÐ´Ð¿Ñ€Ð¸Ð½Ð¸Ð¼Ð°Ñ‚ÐµÐ»ÑŒÑÑ‚Ð²Ð° (Ñ Ð¾Ñ‚Ð»Ð¸Ñ‡Ð¸ÐµÐ¼)",
        
        // Contact Form
        formTitle: "ÐžÑ‚Ð¿Ñ€Ð°Ð²Ð¸Ñ‚ÑŒ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ðµ",
        formName: "Ð˜Ð¼Ñ",
        formEmail: "Email",
        formSubject: "Ð¢ÐµÐ¼Ð°",
        formMessage: "Ð¡Ð¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ðµ",
        formSend: "ÐžÑ‚Ð¿Ñ€Ð°Ð²Ð¸Ñ‚ÑŒ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ðµ",
        formSuccess: "Ð¡Ð¿Ð°ÑÐ¸Ð±Ð¾! Ð’Ð°ÑˆÐµ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ðµ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¾. Ð¯ ÑÐ²ÑÐ¶ÑƒÑÑŒ Ñ Ð²Ð°Ð¼Ð¸ Ð² Ð±Ð»Ð¸Ð¶Ð°Ð¹ÑˆÐµÐµ Ð²Ñ€ÐµÐ¼Ñ.",
        formError: "ÐŸÐ¾Ð¶Ð°Ð»ÑƒÐ¹ÑÑ‚Ð°, Ð·Ð°Ð¿Ð¾Ð»Ð½Ð¸Ñ‚Ðµ Ð²ÑÐµ Ð¾Ð±ÑÐ·Ð°Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ðµ Ð¿Ð¾Ð»Ñ.",
        formEmailError: "ÐŸÐ¾Ð¶Ð°Ð»ÑƒÐ¹ÑÑ‚Ð°, Ð²Ð²ÐµÐ´Ð¸Ñ‚Ðµ ÐºÐ¾Ñ€Ñ€ÐµÐºÑ‚Ð½Ñ‹Ð¹ email Ð°Ð´Ñ€ÐµÑ.",
        
        // Common
        viewOnSSRN: "ÐŸÐ¾ÑÐ¼Ð¾Ñ‚Ñ€ÐµÑ‚ÑŒ Ð½Ð° SSRN â†’",
        viewOnGitHub: "ÐŸÐ¾ÑÐ¼Ð¾Ñ‚Ñ€ÐµÑ‚ÑŒ Ð½Ð° GitHub â†’",
        downloadPDF: "Ð¡ÐºÐ°Ñ‡Ð°Ñ‚ÑŒ PDF",
        downloadFullResume: "Ð¡ÐºÐ°Ñ‡Ð°Ñ‚ÑŒ Ð¿Ð¾Ð»Ð½Ð¾Ðµ Ñ€ÐµÐ·ÑŽÐ¼Ðµ (PDF)",
        
        // Resume Sections
        resumeExperience: "ÐŸÑ€Ð¾Ñ„ÐµÑÑÐ¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ñ‹Ð¹ Ð¾Ð¿Ñ‹Ñ‚",
        resumeEducation: "ÐžÐ±Ñ€Ð°Ð·Ð¾Ð²Ð°Ð½Ð¸Ðµ",
        resumeCertifications: "ÐŸÑ€Ð¾Ñ„ÐµÑÑÐ¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ñ‹Ðµ ÑÐµÑ€Ñ‚Ð¸Ñ„Ð¸ÐºÐ°Ñ‚Ñ‹",
        resumeAwards: "ÐÐ°Ð³Ñ€Ð°Ð´Ñ‹ Ð¸ Ð´Ð¾ÑÑ‚Ð¸Ð¶ÐµÐ½Ð¸Ñ",
        resumeSkills: "ÐšÐ»ÑŽÑ‡ÐµÐ²Ñ‹Ðµ ÐºÐ¾Ð¼Ð¿ÐµÑ‚ÐµÐ½Ñ†Ð¸Ð¸",
        resumePublications: "Ð˜ÑÑÐ»ÐµÐ´Ð¾Ð²Ð°Ð½Ð¸Ñ Ð¸ Ð¿ÑƒÐ±Ð»Ð¸ÐºÐ°Ñ†Ð¸Ð¸",
        
        // Footer
        footerCopyright: "Â© 2025 SAA Alliance. Ð’ÑÐµ Ð¿Ñ€Ð°Ð²Ð° Ð·Ð°Ñ‰Ð¸Ñ‰ÐµÐ½Ñ‹."
    }
};

// Language Switcher Function
function switchLanguage(lang) {
    const currentLang = lang || (localStorage.getItem('language') || 'en');
    const t = translations[currentLang];
    
    if (!t) {
        console.error('Translation not found for language:', currentLang);
        return;
    }
    
    // Find all elements with data-lang attributes
    const elements = document.querySelectorAll('[data-lang-en]');
    console.log(`ðŸŒ Switching to ${currentLang.toUpperCase()}, found ${elements.length} translatable elements`);
    
    // Update all elements with data-lang attributes
    let updatedCount = 0;
    elements.forEach((element, index) => {
        const key = element.getAttribute(`data-lang-${currentLang}`);
        if (!key) {
            console.warn('Translation key not found for element:', element);
            return;
        }
        
        const oldText = element.textContent || element.innerText;
        
        try {
            if (element.tagName === 'INPUT' || element.tagName === 'TEXTAREA') {
                element.placeholder = key;
            } else if (element.tagName === 'BUTTON' || element.tagName === 'A') {
                // For buttons and links, update text content but preserve inner HTML structure
                const innerHTML = element.innerHTML;
                if (innerHTML.includes('<svg') || innerHTML.includes('<span')) {
                    // Preserve SVG/icons, only update text
                    const span = element.querySelector('span');
                    if (span) {
                        span.textContent = key;
                    } else {
                        // If no span, replace text but keep SVG
                        const textMatch = innerHTML.match(/>([^<]+)</);
                        if (textMatch) {
                            element.innerHTML = innerHTML.replace(textMatch[1], key);
                        } else {
                            // Fallback: just replace text
                            element.textContent = key;
                        }
                    }
                } else {
                    element.textContent = key;
                }
            } else if (element.tagName === 'STRONG' || element.tagName === 'EM') {
                // For strong/em tags, update text but preserve structure
                element.textContent = key;
            } else if (element.tagName === 'P' || element.tagName === 'DIV') {
                // For paragraphs and divs, check if they have nested elements
                const hasNestedElements = element.querySelector('strong, em, a, span');
                if (hasNestedElements && element.innerHTML.includes('<')) {
                    // If has nested elements, replace innerHTML to preserve structure
                    // The translation should include the HTML structure
                    element.innerHTML = key;
                } else {
                    // No nested elements, safe to replace text
                    element.textContent = key;
                }
            } else {
                // For all other elements (h1-h6, etc.)
                element.textContent = key;
            }
            
            // Debug: log first few updates
            if (index < 5) {
                console.log(`  [${index}] ${element.tagName}.${element.className}: "${oldText.substring(0, 30)}" â†’ "${key.substring(0, 30)}"`);
            }
        } catch (error) {
            console.error('Error updating element:', element, error);
        }
        updatedCount++;
    });
    
    console.log(`âœ… Updated ${updatedCount} elements`);
    
    // Update language indicator
    const langIndicator = document.getElementById('currentLang');
    if (langIndicator) {
        langIndicator.textContent = currentLang.toUpperCase();
    }
    
    // Save preference
    localStorage.setItem('language', currentLang);
    document.documentElement.lang = currentLang;
}

// Initialize language on page load
function initLanguage() {
    const savedLang = localStorage.getItem('language') || 'en';
    switchLanguage(savedLang);
    
    // Language switcher button
    const langSwitcher = document.getElementById('languageSwitcher');
    if (langSwitcher) {
        langSwitcher.addEventListener('click', function() {
            const currentLang = localStorage.getItem('language') || 'en';
            const newLang = currentLang === 'en' ? 'ru' : 'en';
            switchLanguage(newLang);
        });
    }
}

// Run on DOM ready
if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', initLanguage);
} else {
    // DOM already loaded
    initLanguage();
}

